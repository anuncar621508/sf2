<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./css/styles.css" />

  <!--Script para reproduccion automatica-->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var audio = document.getElementById('miAudio');
      audio.play();
    });

  /* Funciones de audio que se ejecutan segun el resultado */
    function win(){
      new Audio("./sound/you-win-street-fighter.mp3").play()
    }
    function lose(){
      new Audio("./sound/you-lose.mp3").play()
    }
  </script>

  <!--Script para modificar imagen-->
  <script>
    function cambiarImagen(opUsuario) {
    //Cambia la mano segun la eleccion del usuario
      var imagen = document.getElementById('eleccion');
      imagen.src = './img/' + opUsuario + '.png';

    //Opciones a elegir de la maquina
      var opMaquina = ["mano", "roca", "tijeras"];

    //Generando un numero aleario entre 0 y 2
      var aleatorio = Math.floor(Math.random() * 3);

    //Cambia la mano elegida por la maquina
      var imagen2 = document.getElementById('maquina');
      imagen2.src = './img/' + opMaquina[aleatorio] + '.png';

    //Comparando resultados
      if (opUsuario==opMaquina[aleatorio]){

      //Mostrando el resultado en el html
        var resultado = document.getElementById('resultado');
        resultado.innerHTML = 'HAS EMPATADO';

      }else if ((opUsuario=="roca" && opMaquina[aleatorio]=="mano") ||
                (opUsuario=="mano" && opMaquina[aleatorio]=="tijeras") ||
                (opUsuario=="tijeras" && opMaquina[aleatorio]=="roca")){
      //Sonido LOSE (Llama a la funcion LOSE que reproduce un audio)
        lose();

      //Mostrando el resultado en el html
        var resultado = document.getElementById('resultado');
        resultado.innerHTML = 'HAS PERDIDO';

      }else{

      //Sonido WIN (Llama a la funcion WIN que reproduce un audio)
        win();

      //Mostrando el resultado en el html
        var resultado = document.getElementById('resultado');
        resultado.innerHTML = 'HAS GANADO';
      }
    }
  </script>


</head>

<body>
<audio id="miAudio" loop>
  <source src="./sound/01.%20Title%20Theme%20%5BCPS-1%5D.mp3" type="audio/mp3">
</audio>

<div class="flex-container">
  <div class="titulo">
    <h1 class="comienzo">HAND SELECT</h1>
  </div>
</div>

<div class="resultado" id="resultado"></div>

<div class="flex-container1">
  <div><img src="/img/mano.png"  width="80px" onclick="cambiarImagen('mano')"/></div>
  <div><img class="imagen-base" src="/img/roca.png" width="110px" onclick="cambiarImagen('roca')"/></div>
  <div><img src="/img/tijeras.png" width="70px" onclick="cambiarImagen('tijeras')"/></div>
</div>

<div class="flex-container2">
  <div><img class="per" src="./img/ryu.gif"></div>
  <div><img class="mieleccion" src="./img/mano.png" width="100px" id="eleccion"/></div>
  <div><img class="maquinaeleccion" src="/img/tijeras.png" width="100px" id="maquina"/></div>
  <div><img class="per" src="./img/dalshin.gif"></div>
</div>
</body>
</html>
